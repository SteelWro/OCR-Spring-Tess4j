//@version=3
study(title="strategiaeryka", shorttitle="strategiaeryka", precision=1)
source= (volume*close>=volume*open) ?(volume*close-volume*low)/volume*low : (volume*close-volume*high)/volume*high
fastLength = input(9, minval=1), slowLength=input(26,minval=1)
signalLength=input(9,minval=1)
fast = ema(source, fastLength)
slow = ema(source, slowLength)
v = fast - slow
signal = sma(v, signalLength)
plot(v, color = change(v) <= 0 ? red : lime, style=columns)

plot(signal, color=change(signal) <= 0 ? red : green, linewidth=2)
up =crossover(signal,0)
down = crossunder(signal,0)
plotchar(up, title="buy", char='B', location=location.bottom, color=green, transp=0, offset=0,size=size.tiny)
plotchar(down, title="sell",char='S', offset=0, location=location.top, color=red, transp=0,size=size.tiny)
alertcondition(up, title='buy', message='go long')
alertcondition(down, title='sell', message='go  short')
